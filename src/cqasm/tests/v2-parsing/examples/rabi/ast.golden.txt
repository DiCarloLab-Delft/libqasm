SUCCESS
Program( # input.cq:4:1..45:13
  version: <
    Version( # input.cq:4:1..10
      items: [
        DecimalIntegerLiteral( # input.cq:4:7..8
          value: 2
        )
        DecimalIntegerLiteral( # input.cq:4:9..10
          value: 0
        )
      ]
    )
  >
  data: <
    SemicolonSeparated( # input.cq:6:1..45:37
      elements: [
        TemplateMarker( # input.cq:6:1..32
          data: <
            ParameterDefinition( # input.cq:6:10..32
              data: <
                Colon( # input.cq:6:20..32
                  lhs: <
                    Identifier( # input.cq:6:20..27
                      name: REP_CNT
                    )
                  >
                  rhs: <
                    Identifier( # input.cq:6:29..32
                      name: int
                    )
                  >
                )
              >
            )
          >
        )
        TemplateMarker( # input.cq:7:1..33
          data: <
            ParameterDefinition( # input.cq:7:10..33
              data: <
                Colon( # input.cq:7:20..33
                  lhs: <
                    Identifier( # input.cq:7:20..28
                      name: AMPL_CNT
                    )
                  >
                  rhs: <
                    Identifier( # input.cq:7:30..33
                      name: int
                    )
                  >
                )
              >
            )
          >
        )
        ParameterDefinition( # input.cq:8:1..32
          data: <
            Colon( # input.cq:8:11..32
              lhs: <
                Identifier( # input.cq:8:11..19
                  name: AMPL_MIN
                )
              >
              rhs: <
                Identifier( # input.cq:8:21..32
                  name: ufixed_1_31
                )
              >
            )
          >
        )
        ParameterDefinition( # input.cq:9:1..33
          data: <
            Colon( # input.cq:9:11..33
              lhs: <
                Identifier( # input.cq:9:11..20
                  name: AMPL_STEP
                )
              >
              rhs: <
                Identifier( # input.cq:9:22..33
                  name: ufixed_1_31
                )
              >
            )
          >
        )
        ParameterDefinition( # input.cq:10:1..23
          data: <
            Colon( # input.cq:10:11..23
              lhs: <
                Identifier( # input.cq:10:11..18
                  name: INT_AVG
                )
              >
              rhs: <
                Identifier( # input.cq:10:20..23
                  name: int
                )
              >
            )
          >
        )
        FunctionDefinition( # input.cq:10:24..36:2
          modifiers: <
            Modifiers( # input.cq:10:24
              scope: <
                ScopeLocal( # input.cq:10:24
)
              >
              lifetime: <
                LifetimeAutomatic( # input.cq:10:24
)
              >
              implementation: <
                ImplementationAutomatic( # input.cq:10:24
)
              >
            )
          >
          annotations: <
            Annotations( # input.cq:13:14
              data: []
            )
          >
          body: <
            Block( # input.cq:22:3..36:2
              data: <
                SemicolonSeparated( # input.cq:22:4..35:31
                  elements: [
                    VariableDefinition( # input.cq:22:4..23:37
                      modifiers: <
                        Modifiers( # input.cq:22:4
                          scope: <
                            ScopeLocal( # input.cq:22:4
)
                          >
                          lifetime: <
                            LifetimeAutomatic( # input.cq:22:4
)
                          >
                          implementation: <
                            ImplementationAutomatic( # input.cq:22:4
)
                          >
                        )
                      >
                      data: <
                        Colon( # input.cq:23:9..37
                          lhs: <
                            Identifier( # input.cq:23:9..13
                              name: meas
                            )
                          >
                          rhs: <
                            PlainIndex( # input.cq:23:15..37
                              data: <
                                PlainIndex( # input.cq:23:15..27
                                  data: <
                                    Identifier( # input.cq:23:15..18
                                      name: int
                                    )
                                  >
                                  index: <
                                    Identifier( # input.cq:23:19..26
                                      name: REP_CNT
                                    )
                                  >
                                )
                              >
                              index: <
                                Identifier( # input.cq:23:28..36
                                  name: AMPL_CNT
                                )
                              >
                            )
                          >
                        )
                      >
                    )
                    VariableDefinition( # input.cq:23:38..24:24
                      modifiers: <
                        Modifiers( # input.cq:23:38
                          scope: <
                            ScopeLocal( # input.cq:23:38
)
                          >
                          lifetime: <
                            LifetimeAutomatic( # input.cq:23:38
)
                          >
                          implementation: <
                            ImplementationAutomatic( # input.cq:23:38
)
                          >
                        )
                      >
                      data: <
                        Colon( # input.cq:24:9..24
                          lhs: <
                            Identifier( # input.cq:24:9..19
                              name: repetition
                            )
                          >
                          rhs: <
                            Identifier( # input.cq:24:21..24
                              name: int
                            )
                          >
                        )
                      >
                    )
                    VariableDefinition( # input.cq:24:25..25:15
                      modifiers: <
                        Modifiers( # input.cq:24:25
                          scope: <
                            ScopeLocal( # input.cq:24:25
)
                          >
                          lifetime: <
                            LifetimeAutomatic( # input.cq:24:25
)
                          >
                          implementation: <
                            ImplementationAutomatic( # input.cq:24:25
)
                          >
                        )
                      >
                      data: <
                        Colon( # input.cq:25:9..15
                          lhs: <
                            Identifier( # input.cq:25:9..10
                              name: a
                            )
                          >
                          rhs: <
                            Identifier( # input.cq:25:12..15
                              name: int
                            )
                          >
                        )
                      >
                    )
                    VariableDefinition( # input.cq:25:16..26:31
                      modifiers: <
                        Modifiers( # input.cq:25:16
                          scope: <
                            ScopeLocal( # input.cq:25:16
)
                          >
                          lifetime: <
                            LifetimeAutomatic( # input.cq:25:16
)
                          >
                          implementation: <
                            ImplementationAutomatic( # input.cq:25:16
)
                          >
                        )
                      >
                      data: <
                        Colon( # input.cq:26:9..31
                          lhs: <
                            Identifier( # input.cq:26:9..18
                              name: amplitude
                            )
                          >
                          rhs: <
                            Identifier( # input.cq:26:20..31
                              name: ufixed_1_31
                            )
                          >
                        )
                      >
                    )
                    ForLoop( # input.cq:26:32..34:6
                      modifiers: <
                        Modifiers( # input.cq:26:32
                          scope: <
                            ScopeLocal( # input.cq:26:32
)
                          >
                          lifetime: <
                            LifetimeAutomatic( # input.cq:26:32
)
                          >
                          implementation: <
                            ImplementationAutomatic( # input.cq:26:32
)
                          >
                        )
                      >
                      label: -
                      annotations: <
                        Annotations( # input.cq:28:8
                          data: []
                        )
                      >
                      control: <
                        SemicolonSeparated( # input.cq:28:9..55
                          elements: [
                            AssignmentOperator( # input.cq:28:9..21
                              value: <
                                DecimalIntegerLiteral( # input.cq:28:20..21
                                  value: 0
                                )
                              >
                              target: <
                                Identifier( # input.cq:28:9..19
                                  name: repetition
                                )
                              >
                            )
                            LessThanOperator( # input.cq:28:23..41
                              lhs: <
                                Identifier( # input.cq:28:23..33
                                  name: repetition
                                )
                              >
                              rhs: <
                                Identifier( # input.cq:28:34..41
                                  name: REP_CNT
                                )
                              >
                            )
                            PostIncrementOperator( # input.cq:28:43..55
                              target: <
                                Identifier( # input.cq:28:43..53
                                  name: repetition
                                )
                              >
                            )
                          ]
                        )
                      >
                      body: <
                        Block( # input.cq:28:57..34:6
                          data: <
                            ForLoop( # input.cq:28:58..33:10
                              modifiers: <
                                Modifiers( # input.cq:28:58
                                  scope: <
                                    ScopeLocal( # input.cq:28:58
)
                                  >
                                  lifetime: <
                                    LifetimeAutomatic( # input.cq:28:58
)
                                  >
                                  implementation: <
                                    ImplementationAutomatic( # input.cq:28:58
)
                                  >
                                )
                              >
                              label: -
                              annotations: <
                                Annotations( # input.cq:29:12
                                  data: []
                                )
                              >
                              control: <
                                SemicolonSeparated( # input.cq:29:13..73
                                  elements: [
                                    CommaSeparated( # input.cq:29:13..35
                                      elements: [
                                        AssignmentOperator( # input.cq:29:13..31
                                          value: <
                                            Identifier( # input.cq:29:23..31
                                              name: AMPL_MIN
                                            )
                                          >
                                          target: <
                                            Identifier( # input.cq:29:13..22
                                              name: amplitude
                                            )
                                          >
                                        )
                                        AssignmentOperator( # input.cq:29:32..35
                                          value: <
                                            DecimalIntegerLiteral( # input.cq:29:34..35
                                              value: 0
                                            )
                                          >
                                          target: <
                                            Identifier( # input.cq:29:32..33
                                              name: a
                                            )
                                          >
                                        )
                                      ]
                                    )
                                    LessThanOperator( # input.cq:29:37..47
                                      lhs: <
                                        Identifier( # input.cq:29:37..38
                                          name: a
                                        )
                                      >
                                      rhs: <
                                        Identifier( # input.cq:29:39..47
                                          name: AMPL_CNT
                                        )
                                      >
                                    )
                                    CommaSeparated( # input.cq:29:49..73
                                      elements: [
                                        IncrementByOperator( # input.cq:29:49..69
                                          value: <
                                            Identifier( # input.cq:29:60..69
                                              name: AMPL_STEP
                                            )
                                          >
                                          target: <
                                            Identifier( # input.cq:29:49..58
                                              name: amplitude
                                            )
                                          >
                                        )
                                        PostIncrementOperator( # input.cq:29:70..73
                                          target: <
                                            Identifier( # input.cq:29:70..71
                                              name: a
                                            )
                                          >
                                        )
                                      ]
                                    )
                                  ]
                                )
                              >
                              body: <
                                Block( # input.cq:29:75..33:10
                                  data: <
                                    SemicolonSeparated( # input.cq:30:13..32:54
                                      elements: [
                                        FunctionCall( # input.cq:30:13..21
                                          function: <
                                            Identifier( # input.cq:30:13..18
                                              name: prepz
                                            )
                                          >
                                          arguments: <
                                            Identifier( # input.cq:30:19..20
                                              name: q
                                            )
                                          >
                                        )
                                        FunctionCall( # input.cq:31:13..28
                                          function: <
                                            Identifier( # input.cq:31:13..15
                                              name: rx
                                            )
                                          >
                                          arguments: <
                                            CommaSeparated( # input.cq:31:16..27
                                              elements: [
                                                Identifier( # input.cq:31:16..17
                                                  name: q
                                                )
                                                Identifier( # input.cq:31:18..27
                                                  name: amplitude
                                                )
                                              ]
                                            )
                                          >
                                        )
                                        AssignmentOperator( # input.cq:32:13..53
                                          value: <
                                            FunctionCall( # input.cq:32:35..53
                                              function: <
                                                Identifier( # input.cq:32:35..42
                                                  name: measure
                                                )
                                              >
                                              arguments: <
                                                CommaSeparated( # input.cq:32:43..52
                                                  elements: [
                                                    Identifier( # input.cq:32:43..44
                                                      name: q
                                                    )
                                                    Identifier( # input.cq:32:45..52
                                                      name: INT_AVG
                                                    )
                                                  ]
                                                )
                                              >
                                            )
                                          >
                                          target: <
                                            PlainIndex( # input.cq:32:13..32
                                              data: <
                                                PlainIndex( # input.cq:32:13..29
                                                  data: <
                                                    Identifier( # input.cq:32:13..17
                                                      name: meas
                                                    )
                                                  >
                                                  index: <
                                                    Identifier( # input.cq:32:18..28
                                                      name: repetition
                                                    )
                                                  >
                                                )
                                              >
                                              index: <
                                                Identifier( # input.cq:32:30..31
                                                  name: a
                                                )
                                              >
                                            )
                                          >
                                        )
                                      ]
                                    )
                                  >
                                )
                              >
                            )
                          >
                        )
                      >
                    )
                    ReturnStatement( # input.cq:35:5..16
                      value: <
                        Identifier( # input.cq:35:12..16
                          name: meas
                        )
                      >
                    )
                  ]
                )
              >
            )
          >
          name: <
            Identifier( # input.cq:13:10..14
              name: Rabi
            )
          >
          parameters: <
            CommaSeparated( # input.cq:14:5..19:27
              elements: [
                TemplateMarker( # input.cq:14:5..21
                  data: <
                    Colon( # input.cq:14:14..21
                      lhs: <
                        Identifier( # input.cq:14:14..15
                          name: q
                        )
                      >
                      rhs: <
                        Identifier( # input.cq:14:17..21
                          name: qref
                        )
                      >
                    )
                  >
                )
                TemplateMarker( # input.cq:15:5..26
                  data: <
                    Colon( # input.cq:15:14..26
                      lhs: <
                        Identifier( # input.cq:15:14..21
                          name: REP_CNT
                        )
                      >
                      rhs: <
                        Identifier( # input.cq:15:23..26
                          name: int
                        )
                      >
                    )
                  >
                )
                TemplateMarker( # input.cq:16:5..27
                  data: <
                    Colon( # input.cq:16:14..27
                      lhs: <
                        Identifier( # input.cq:16:14..22
                          name: AMPL_CNT
                        )
                      >
                      rhs: <
                        Identifier( # input.cq:16:24..27
                          name: int
                        )
                      >
                    )
                  >
                )
                Colon( # input.cq:17:5..26
                  lhs: <
                    Identifier( # input.cq:17:5..13
                      name: AMPL_MIN
                    )
                  >
                  rhs: <
                    Identifier( # input.cq:17:15..26
                      name: ufixed_1_31
                    )
                  >
                )
                Colon( # input.cq:18:5..27
                  lhs: <
                    Identifier( # input.cq:18:5..14
                      name: AMPL_STEP
                    )
                  >
                  rhs: <
                    Identifier( # input.cq:18:16..27
                      name: ufixed_1_31
                    )
                  >
                )
                Colon( # input.cq:19:5..17
                  lhs: <
                    Identifier( # input.cq:19:5..12
                      name: INT_AVG
                    )
                  >
                  rhs: <
                    Identifier( # input.cq:19:14..17
                      name: int
                    )
                  >
                )
              ]
            )
          >
          return_type: <
            PlainIndex( # input.cq:20:3..22:27
              data: <
                PlainIndex( # input.cq:21:5..17
                  data: <
                    Identifier( # input.cq:21:5..8
                      name: int
                    )
                  >
                  index: <
                    Identifier( # input.cq:21:9..16
                      name: REP_CNT
                    )
                  >
                )
              >
              index: <
                Identifier( # input.cq:21:18..26
                  name: AMPL_CNT
                )
              >
            )
          >
        )
        QubitDefinition( # input.cq:36:3..38:12
          modifiers: <
            Modifiers( # input.cq:36:3
              scope: <
                ScopeLocal( # input.cq:36:3
)
              >
              lifetime: <
                LifetimeAutomatic( # input.cq:36:3
)
              >
              implementation: <
                ImplementationAutomatic( # input.cq:36:3
)
              >
            )
          >
          data: <
            PlainIndex( # input.cq:38:7..12
              data: <
                Identifier( # input.cq:38:7..8
                  name: q
                )
              >
              index: <
                DecimalIntegerLiteral( # input.cq:38:9..11
                  value: 17
                )
              >
            )
          >
        )
        VariableDefinition( # input.cq:38:13..39:37
          modifiers: <
            Modifiers( # input.cq:38:13
              scope: <
                ScopeLocal( # input.cq:38:13
)
              >
              lifetime: <
                LifetimeAutomatic( # input.cq:38:13
)
              >
              implementation: <
                ImplementationAutomatic( # input.cq:38:13
)
              >
            )
          >
          data: <
            Colon( # input.cq:39:5..37
              lhs: <
                Identifier( # input.cq:39:5..9
                  name: meas
                )
              >
              rhs: <
                PlainIndex( # input.cq:39:11..37
                  data: <
                    PlainIndex( # input.cq:39:11..27
                      data: <
                        PlainIndex( # input.cq:39:11..18
                          data: <
                            Identifier( # input.cq:39:11..14
                              name: int
                            )
                          >
                          index: <
                            DecimalIntegerLiteral( # input.cq:39:15..17
                              value: 17
                            )
                          >
                        )
                      >
                      index: <
                        Identifier( # input.cq:39:19..26
                          name: REP_CNT
                        )
                      >
                    )
                  >
                  index: <
                    Identifier( # input.cq:39:28..36
                      name: AMPL_CNT
                    )
                  >
                )
              >
            )
          >
        )
        ForeachLoop( # input.cq:39:38..43:2
          modifiers: <
            Modifiers( # input.cq:39:38
              scope: <
                ScopeLocal( # input.cq:39:38
)
              >
              lifetime: <
                LifetimeAutomatic( # input.cq:39:38
)
              >
              implementation: <
                ImplementationAutomatic( # input.cq:39:38
)
              >
            )
          >
          label: -
          annotations: <
            Annotations( # input.cq:41:8
              data: []
            )
          >
          control: <
            Colon( # input.cq:41:9..17
              lhs: <
                Identifier( # input.cq:41:9..10
                  name: i
                )
              >
              rhs: <
                RangeOperator( # input.cq:41:12..17
                  begin: <
                    DecimalIntegerLiteral( # input.cq:41:12..13
                      value: 0
                    )
                  >
                  end: <
                    DecimalIntegerLiteral( # input.cq:41:15..17
                      value: 16
                    )
                  >
                )
              >
            )
          >
          body: <
            Block( # input.cq:41:19..43:2
              data: <
                SemicolonSeparated( # input.cq:42:5..56
                  elements: [
                    AssignmentOperator( # input.cq:42:5..55
                      value: <
                        FunctionCall( # input.cq:42:15..55
                          function: <
                            Identifier( # input.cq:42:15..19
                              name: Rabi
                            )
                          >
                          arguments: <
                            CommaSeparated( # input.cq:42:20..54
                              elements: [
                                PlainIndex( # input.cq:42:20..24
                                  data: <
                                    Identifier( # input.cq:42:20..21
                                      name: q
                                    )
                                  >
                                  index: <
                                    Identifier( # input.cq:42:22..23
                                      name: i
                                    )
                                  >
                                )
                                Identifier( # input.cq:42:26..34
                                  name: AMPL_MIN
                                )
                                Identifier( # input.cq:42:36..45
                                  name: AMPL_STEP
                                )
                                Identifier( # input.cq:42:47..54
                                  name: INT_AVG
                                )
                              ]
                            )
                          >
                        )
                      >
                      target: <
                        PlainIndex( # input.cq:42:5..12
                          data: <
                            Identifier( # input.cq:42:5..9
                              name: meas
                            )
                          >
                          index: <
                            Identifier( # input.cq:42:10..11
                              name: i
                            )
                          >
                        )
                      >
                    )
                  ]
                )
              >
            )
          >
        )
        ReturnStatement( # input.cq:45:1..12
          value: <
            Identifier( # input.cq:45:8..12
              name: meas
            )
          >
        )
      ]
    )
  >
)

